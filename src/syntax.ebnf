block = 
    | line "." block
    | line "."
    | line

line = 
    | list ":-" list
    | list

list =
    | process "," list
    | process

process =
    | atom // start from AtomName
    | redir // start from PointerName
    | "(" line ")" // start from opening parentheses

atom =
    | AtomName "("  ")"
    | AtomName "(" pointer_list ")"
    | AtomName

pointer_list =
    | pointing_to "," pointer_list
    | pointing_to

pointing_to = 
    | atom
    | PointerName

redir =
    | PointerName "->" pointing_to    


"." < ":-" < "," 
